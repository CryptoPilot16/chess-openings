(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56563,30800,80447,e=>{"use strict";function t(e,t){let r;if(e<3)return{...t,interval:1,repetitions:0,easeFactor:Math.max(1.3,t.easeFactor-.2),lastReview:new Date().toISOString(),nextReview:o(1).toISOString()};let n=t.repetitions+1;r=1===n?1:2===n?6:Math.round(t.interval*t.easeFactor);let a=Math.max(1.3,Math.min(2.5,t.easeFactor+(.1-(5-e)*(.08+(5-e)*.02))));return{...t,interval:r,repetitions:n,easeFactor:a,lastReview:new Date().toISOString(),nextReview:o(r).toISOString()}}function r(e){return{openingId:e,easeFactor:2.5,interval:1,repetitions:0,nextReview:o(1).toISOString(),lastReview:new Date().toISOString()}}function n(e){return new Date>=new Date(e.nextReview)}function a(e){return e>=95?5:e>=85?4:e>=75?3:e>=60?2:+(e>=40)}function o(e){let t=new Date;return t.setDate(t.getDate()+e),t}function i(e){let t,r=(t=new Date,Math.ceil((new Date(e.nextReview).getTime()-t.getTime())/864e5));return r<0?"Overdue!":0===r?"Due today":1===r?"Due tomorrow":r<7?`Due in ${r} days`:r<30?`Due in ${Math.round(r/7)} weeks`:`Due in ${Math.round(r/30)} months`}function l(e){let t=1,r=0;for(;;){let n=Math.floor(100*Math.pow(1.5,t-1));if(r+n>e)return{level:t,currentXP:e-r,xpForNextLevel:n,totalXP:e};r+=n,t++}}function s(e,t,r,n){if(!r)return 0;let a=t/e,o=0;return a>=.95?o=50:a>=.85?o=30:a>=.75&&(o=15),Math.floor((50+o)*({beginner:1,intermediate:1.5,advanced:2})[n])}e.s(["accuracyToQuality",()=>a,"calculateNextReview",()=>t,"createReviewCard",()=>r,"getReviewScheduleText",()=>i,"isDueForReview",()=>n],30800);let c=[{id:"first-opening",name:"First Steps",description:"Complete your first opening",emoji:"ðŸŽ¯",target:1},{id:"five-openings",name:"Opening Explorer",description:"Complete 5 different openings",emoji:"ðŸ—ºï¸",target:5},{id:"perfect-run",name:"Perfectionist",description:"Complete an opening with 100% accuracy",emoji:"ðŸ’Ž",target:1},{id:"streak-5",name:"On Fire",description:"Maintain a 5-session streak",emoji:"ðŸ”¥",target:5},{id:"streak-10",name:"Unstoppable",description:"Maintain a 10-session streak",emoji:"âš¡",target:10},{id:"advanced-master",name:"Grandmaster",description:"Complete all advanced openings",emoji:"ðŸ‘‘",target:1},{id:"speed-demon",name:"Speed Demon",description:"Complete an opening in under 2 minutes",emoji:"ðŸš€",target:1},{id:"level-5",name:"Apprentice",description:"Reach level 5",emoji:"â­",target:5},{id:"level-10",name:"Expert",description:"Reach level 10",emoji:"ðŸŒŸ",target:10},{id:"level-20",name:"Master",description:"Reach level 20",emoji:"âœ¨",target:20}];function d(e,t,r){let n=[],a=new Date().toISOString();for(let e of c){let o=r.find(t=>t.id===e.id);if(o?.unlockedAt)continue;let i=!1;switch(e.id){case"first-opening":t.totalCompletions,i=(t.totalCompletions||0)>=1;break;case"five-openings":t.uniqueOpeningsCompleted,i=(t.uniqueOpeningsCompleted||0)>=5;break;case"perfect-run":i=(t.perfectRuns||0)>=1;break;case"streak-5":t.currentStreak,i=(t.currentStreak||0)>=5;break;case"streak-10":t.currentStreak,i=(t.currentStreak||0)>=10;break;case"level-5":let s=l(t.totalXP||0);s.level,i=s.level>=5;break;case"level-10":let c=l(t.totalXP||0);c.level,i=c.level>=10;break;case"level-20":let d=l(t.totalXP||0);d.level,i=d.level>=20;break;default:continue}i&&n.push({...e,progress:100,unlockedAt:a})}return n}function u(e){return e<5?"Novice":e<10?"Apprentice":e<15?"Intermediate":e<20?"Advanced":e<30?"Expert":e<50?"Master":"Grandmaster"}e.s(["ACHIEVEMENTS",0,c,"calculateXPReward",()=>s,"checkAchievements",()=>d,"getLevelFromXP",()=>l,"getLevelTitle",()=>u],80447);let g="chess-trainer-openings",m="chess-trainer-stats",p="chess-trainer-reviews",v="chess-trainer-achievements";function S(e){try{let t=localStorage.getItem(g);if(!t)return null;return JSON.parse(t)[e]||null}catch(e){return console.error("Error reading opening progress:",e),null}}function f(e,t){try{let r=localStorage.getItem(g),n=r?JSON.parse(r):{},a=n[e]||{openingId:e,completedCount:0,lastPracticed:new Date().toISOString(),bestStreak:0,currentStreak:0,averageAccuracy:0,totalMoves:0,correctMoves:0};n[e]={...a,...t,lastPracticed:new Date().toISOString()},n[e].totalMoves>0&&(n[e].averageAccuracy=Math.round(n[e].correctMoves/n[e].totalMoves*100)),localStorage.setItem(g,JSON.stringify(n))}catch(e){console.error("Error saving opening progress:",e)}}function h(){try{let e=localStorage.getItem(g);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading all opening progress:",e),{}}}function x(){let e={totalSessions:0,totalMovesPlayed:0,correctMovesTotal:0,startedAt:new Date().toISOString(),lastActive:new Date().toISOString(),totalXP:0,totalCompletions:0,uniqueOpeningsCompleted:0,perfectRuns:0,currentStreak:0,bestStreak:0};try{let t=localStorage.getItem(m);if(!t)return localStorage.setItem(m,JSON.stringify(e)),e;let r=JSON.parse(t);return{...e,...r}}catch(t){return console.error("Error reading user stats:",t),e}}function b(e){try{let t={...x(),...e,lastActive:new Date().toISOString()};localStorage.setItem(m,JSON.stringify(t))}catch(e){console.error("Error saving user stats:",e)}}function k(e,n,o,i,l){let c=x(),u=S(e),g=n>0?o/n*100:0,m=100===g,p=0;i&&l&&(p=s(n,o,!0,l.difficulty)),u?.completedCount;let v=i?(u?.currentStreak||0)+1:0;if(f(e,{completedCount:(u?.completedCount||0)+ +!!i,currentStreak:v,bestStreak:Math.max(v,u?.bestStreak||0),totalMoves:(u?.totalMoves||0)+n,correctMoves:(u?.correctMoves||0)+o}),i){let n=w(e);n||(n=r(e)),O(t(a(g),n))}let k=Object.values(h()).filter(e=>e.completedCount>0).length,y={...c},M=i?c.currentStreak+1:0;b({totalSessions:c.totalSessions+1,totalMovesPlayed:c.totalMovesPlayed+n,correctMovesTotal:c.correctMovesTotal+o,totalXP:c.totalXP+p,totalCompletions:c.totalCompletions+ +!!i,uniqueOpeningsCompleted:k,perfectRuns:c.perfectRuns+(m&&i?1:0),currentStreak:M,bestStreak:Math.max(M,c.bestStreak)});let j=x(),C=N(),D=d(y,j,C);return D.length>0&&I([...C,...D]),{xpEarned:p,newAchievements:D}}function w(e){try{let t=localStorage.getItem(p);if(!t)return null;return JSON.parse(t)[e]||null}catch(e){return console.error("Error reading review card:",e),null}}function O(e){try{let t=localStorage.getItem(p),r=t?JSON.parse(t):{};r[e.openingId]=e,localStorage.setItem(p,JSON.stringify(r))}catch(e){console.error("Error saving review card:",e)}}function y(){try{let e=localStorage.getItem(p);if(!e)return[];let t=JSON.parse(e);return Object.values(t)}catch(e){return console.error("Error reading review cards:",e),[]}}function M(){return y().filter(n).map(e=>e.openingId)}function N(){try{let e=localStorage.getItem(v);if(!e)return[];return JSON.parse(e)}catch(e){return console.error("Error reading achievements:",e),[]}}function I(e){try{localStorage.setItem(v,JSON.stringify(e))}catch(e){console.error("Error saving achievements:",e)}}e.s(["getAchievements",()=>N,"getAllOpeningProgress",()=>h,"getAllReviewCards",()=>y,"getDueOpenings",()=>M,"getOpeningProgress",()=>S,"getReviewCard",()=>w,"getUserStats",()=>x,"recordSession",()=>k,"saveAchievements",()=>I,"updateOpeningProgress",()=>f,"updateReviewCard",()=>O,"updateUserStats",()=>b],56563)},18806,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(56563),a=e.i(80447),o=e.i(22016);function i(){let[e,i]=(0,r.useState)([]),[l,s]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{s(!0),i((0,n.getAchievements)())},[]),!l)return(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:(0,t.jsx)("div",{className:"text-center",children:"Loading achievements..."})});let c=new Set(e.map(e=>e.id)),d=e.length;return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Achievements"}),(0,t.jsxs)("p",{className:"text-slate-600 dark:text-slate-400",children:[d," / ",a.ACHIEVEMENTS.length," achievements unlocked"]}),(0,t.jsx)("div",{className:"mt-4 w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 h-3 rounded-full transition-all",style:{width:`${d/a.ACHIEVEMENTS.length*100}%`}})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:a.ACHIEVEMENTS.map(r=>{let n=c.has(r.id),a=e.find(e=>e.id===r.id)?.unlockedAt;return(0,t.jsxs)("div",{className:`rounded-xl p-6 border-2 transition transform hover:scale-105 ${n?"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-slate-700 dark:to-slate-800 border-yellow-400 dark:border-yellow-600 shadow-lg":"bg-slate-100 dark:bg-slate-800 border-slate-300 dark:border-slate-600 opacity-60"}`,children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:r.emoji}),(0,t.jsx)("h3",{className:"text-lg font-bold mb-2",children:r.name}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:r.description}),n?(0,t.jsxs)("div",{className:"text-xs text-green-600 dark:text-green-400 font-semibold",children:["âœ“ Unlocked ",a&&new Date(a).toLocaleDateString()]}):(0,t.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:"Locked"})]},r.id)})}),(0,t.jsx)(o.default,{href:"/",className:"px-6 py-3 bg-blue-600 dark:bg-blue-700 hover:bg-blue-700 dark:hover:bg-blue-600 text-white rounded-lg font-semibold transition inline-block",children:"Back to Training"})]})}e.s(["default",()=>i])}]);