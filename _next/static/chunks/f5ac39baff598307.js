(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56563,30800,80447,e=>{"use strict";function t(e,t){let r;if(e<3)return{...t,interval:1,repetitions:0,easeFactor:Math.max(1.3,t.easeFactor-.2),lastReview:new Date().toISOString(),nextReview:s(1).toISOString()};let a=t.repetitions+1;r=1===a?1:2===a?6:Math.round(t.interval*t.easeFactor);let n=Math.max(1.3,Math.min(2.5,t.easeFactor+(.1-(5-e)*(.08+(5-e)*.02))));return{...t,interval:r,repetitions:a,easeFactor:n,lastReview:new Date().toISOString(),nextReview:s(r).toISOString()}}function r(e){return{openingId:e,easeFactor:2.5,interval:1,repetitions:0,nextReview:s(1).toISOString(),lastReview:new Date().toISOString()}}function a(e){return new Date>=new Date(e.nextReview)}function n(e){return e>=95?5:e>=85?4:e>=75?3:e>=60?2:+(e>=40)}function s(e){let t=new Date;return t.setDate(t.getDate()+e),t}function i(e){let t,r=(t=new Date,Math.ceil((new Date(e.nextReview).getTime()-t.getTime())/864e5));return r<0?"Overdue!":0===r?"Due today":1===r?"Due tomorrow":r<7?`Due in ${r} days`:r<30?`Due in ${Math.round(r/7)} weeks`:`Due in ${Math.round(r/30)} months`}function l(e){let t=1,r=0;for(;;){let a=Math.floor(100*Math.pow(1.5,t-1));if(r+a>e)return{level:t,currentXP:e-r,xpForNextLevel:a,totalXP:e};r+=a,t++}}function o(e,t,r,a){if(!r)return 0;let n=t/e,s=0;return n>=.95?s=50:n>=.85?s=30:n>=.75&&(s=15),Math.floor((50+s)*({beginner:1,intermediate:1.5,advanced:2})[a])}e.s(["accuracyToQuality",()=>n,"calculateNextReview",()=>t,"createReviewCard",()=>r,"getReviewScheduleText",()=>i,"isDueForReview",()=>a],30800);let c=[{id:"first-opening",name:"First Steps",description:"Complete your first opening",emoji:"ðŸŽ¯",target:1},{id:"five-openings",name:"Opening Explorer",description:"Complete 5 different openings",emoji:"ðŸ—ºï¸",target:5},{id:"perfect-run",name:"Perfectionist",description:"Complete an opening with 100% accuracy",emoji:"ðŸ’Ž",target:1},{id:"streak-5",name:"On Fire",description:"Maintain a 5-session streak",emoji:"ðŸ”¥",target:5},{id:"streak-10",name:"Unstoppable",description:"Maintain a 10-session streak",emoji:"âš¡",target:10},{id:"advanced-master",name:"Grandmaster",description:"Complete all advanced openings",emoji:"ðŸ‘‘",target:1},{id:"speed-demon",name:"Speed Demon",description:"Complete an opening in under 2 minutes",emoji:"ðŸš€",target:1},{id:"level-5",name:"Apprentice",description:"Reach level 5",emoji:"â­",target:5},{id:"level-10",name:"Expert",description:"Reach level 10",emoji:"ðŸŒŸ",target:10},{id:"level-20",name:"Master",description:"Reach level 20",emoji:"âœ¨",target:20}];function d(e,t,r){let a=[],n=new Date().toISOString();for(let e of c){let s=r.find(t=>t.id===e.id);if(s?.unlockedAt)continue;let i=!1;switch(e.id){case"first-opening":t.totalCompletions,i=(t.totalCompletions||0)>=1;break;case"five-openings":t.uniqueOpeningsCompleted,i=(t.uniqueOpeningsCompleted||0)>=5;break;case"perfect-run":i=(t.perfectRuns||0)>=1;break;case"streak-5":t.currentStreak,i=(t.currentStreak||0)>=5;break;case"streak-10":t.currentStreak,i=(t.currentStreak||0)>=10;break;case"level-5":let o=l(t.totalXP||0);o.level,i=o.level>=5;break;case"level-10":let c=l(t.totalXP||0);c.level,i=c.level>=10;break;case"level-20":let d=l(t.totalXP||0);d.level,i=d.level>=20;break;default:continue}i&&a.push({...e,progress:100,unlockedAt:n})}return a}function g(e){return e<5?"Novice":e<10?"Apprentice":e<15?"Intermediate":e<20?"Advanced":e<30?"Expert":e<50?"Master":"Grandmaster"}e.s(["ACHIEVEMENTS",0,c,"calculateXPReward",()=>o,"checkAchievements",()=>d,"getLevelFromXP",()=>l,"getLevelTitle",()=>g],80447);let m="chess-trainer-openings",u="chess-trainer-stats",p="chess-trainer-reviews",h="chess-trainer-achievements";function x(e){try{let t=localStorage.getItem(m);if(!t)return null;return JSON.parse(t)[e]||null}catch(e){return console.error("Error reading opening progress:",e),null}}function v(e,t){try{let r=localStorage.getItem(m),a=r?JSON.parse(r):{},n=a[e]||{openingId:e,completedCount:0,lastPracticed:new Date().toISOString(),bestStreak:0,currentStreak:0,averageAccuracy:0,totalMoves:0,correctMoves:0};a[e]={...n,...t,lastPracticed:new Date().toISOString()},a[e].totalMoves>0&&(a[e].averageAccuracy=Math.round(a[e].correctMoves/a[e].totalMoves*100)),localStorage.setItem(m,JSON.stringify(a))}catch(e){console.error("Error saving opening progress:",e)}}function f(){try{let e=localStorage.getItem(m);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading all opening progress:",e),{}}}function S(){let e={totalSessions:0,totalMovesPlayed:0,correctMovesTotal:0,startedAt:new Date().toISOString(),lastActive:new Date().toISOString(),totalXP:0,totalCompletions:0,uniqueOpeningsCompleted:0,perfectRuns:0,currentStreak:0,bestStreak:0};try{let t=localStorage.getItem(u);if(!t)return localStorage.setItem(u,JSON.stringify(e)),e;let r=JSON.parse(t);return{...e,...r}}catch(t){return console.error("Error reading user stats:",t),e}}function b(e){try{let t={...S(),...e,lastActive:new Date().toISOString()};localStorage.setItem(u,JSON.stringify(t))}catch(e){console.error("Error saving user stats:",e)}}function y(e,a,s,i,l){let c=S(),g=x(e),m=a>0?s/a*100:0,u=100===m,p=0;i&&l&&(p=o(a,s,!0,l.difficulty)),g?.completedCount;let h=i?(g?.currentStreak||0)+1:0;if(v(e,{completedCount:(g?.completedCount||0)+ +!!i,currentStreak:h,bestStreak:Math.max(h,g?.bestStreak||0),totalMoves:(g?.totalMoves||0)+a,correctMoves:(g?.correctMoves||0)+s}),i){let a=w(e);a||(a=r(e)),j(t(n(m),a))}let y=Object.values(f()).filter(e=>e.completedCount>0).length,N={...c},k=i?c.currentStreak+1:0;b({totalSessions:c.totalSessions+1,totalMovesPlayed:c.totalMovesPlayed+a,correctMovesTotal:c.correctMovesTotal+s,totalXP:c.totalXP+p,totalCompletions:c.totalCompletions+ +!!i,uniqueOpeningsCompleted:y,perfectRuns:c.perfectRuns+(u&&i?1:0),currentStreak:k,bestStreak:Math.max(k,c.bestStreak)});let M=S(),D=O(),I=d(N,M,D);return I.length>0&&C([...D,...I]),{xpEarned:p,newAchievements:I}}function w(e){try{let t=localStorage.getItem(p);if(!t)return null;return JSON.parse(t)[e]||null}catch(e){return console.error("Error reading review card:",e),null}}function j(e){try{let t=localStorage.getItem(p),r=t?JSON.parse(t):{};r[e.openingId]=e,localStorage.setItem(p,JSON.stringify(r))}catch(e){console.error("Error saving review card:",e)}}function N(){try{let e=localStorage.getItem(p);if(!e)return[];let t=JSON.parse(e);return Object.values(t)}catch(e){return console.error("Error reading review cards:",e),[]}}function k(){return N().filter(a).map(e=>e.openingId)}function O(){try{let e=localStorage.getItem(h);if(!e)return[];return JSON.parse(e)}catch(e){return console.error("Error reading achievements:",e),[]}}function C(e){try{localStorage.setItem(h,JSON.stringify(e))}catch(e){console.error("Error saving achievements:",e)}}e.s(["getAchievements",()=>O,"getAllOpeningProgress",()=>f,"getAllReviewCards",()=>N,"getDueOpenings",()=>k,"getOpeningProgress",()=>x,"getReviewCard",()=>w,"getUserStats",()=>S,"recordSession",()=>y,"saveAchievements",()=>C,"updateOpeningProgress",()=>v,"updateReviewCard",()=>j,"updateUserStats",()=>b],56563)},88737,e=>{"use strict";var t=e.i(30315);let r="chess-trainer-daily-challenge";function a(){let e=new Date().toISOString().split("T")[0];try{let t=localStorage.getItem(r);if(t){let r=JSON.parse(t);if(r.date===e)return r}}catch(e){console.error("Error reading daily challenge:",e)}let a=Math.floor(new Date(e).getTime()/864e5)%t.openings.length,s={date:e,openingId:t.openings[a].id,attempts:3,completed:!1,xpBonus:100};return n(s),s}function n(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(e){console.error("Error saving daily challenge:",e)}}function s(){let e=a();e.completed=!0,n(e)}function i(){let e=a();return t.openings.find(t=>t.id===e.openingId)}e.s(["completeDailyChallenge",()=>s,"getDailyChallenge",()=>a,"getDailyChallengeOpening",()=>i])},84662,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(56563),n=e.i(30800),s=e.i(88737);function i({openings:e,onSelect:i}){let[l,o]=(0,r.useState)({}),[c,d]=(0,r.useState)([]),[g,m]=(0,r.useState)(null);return(0,r.useEffect)(()=>{o((0,a.getAllOpeningProgress)()),d((0,a.getDueOpenings)()),m((0,s.getDailyChallenge)())},[]),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"â™Ÿï¸ Chess Opening Trainer"}),(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"Master essential chess openings through interactive practice"})]}),g&&!g.completed&&(0,t.jsx)("div",{className:"mb-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl shadow-xl p-8 text-white",children:(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"ðŸŽ¯ Today's Challenge"}),(0,t.jsxs)("p",{className:"text-lg mb-3 opacity-90",children:["Complete the ",(0,s.getDailyChallengeOpening)()?.name," opening to earn +100 bonus XP!"]}),(0,t.jsxs)("p",{className:"text-sm opacity-75",children:["Attempts remaining: ",g.attempts]})]}),(0,t.jsx)("button",{onClick:()=>{if(g){let e=(0,s.getDailyChallengeOpening)();e&&i(e)}},className:"px-8 py-4 bg-white text-purple-600 font-bold rounded-lg hover:bg-opacity-90 transition transform hover:scale-105 whitespace-nowrap",children:"Start Challenge"})]})}),g?.completed&&(0,t.jsx)("div",{className:"mb-12 bg-gradient-to-r from-green-400 to-emerald-400 rounded-xl shadow-xl p-8 text-white",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-5xl",children:"âœ¨"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Daily Challenge Complete!"}),(0,t.jsx)("p",{className:"opacity-90",children:"Come back tomorrow for a new challenge"})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{let r=l[e.id],s=r&&r.completedCount>0,o=c.includes(e.id),d=(0,a.getReviewCard)(e.id),g=r?.totalMoves?Math.round(r.correctMoves/r.totalMoves*100):0;return(0,t.jsxs)("button",{onClick:()=>i(e),className:`
                  group relative bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 
                  hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-lg 
                  transition-all duration-200 p-5 text-left overflow-hidden
                  ${o?"ring-2 ring-orange-400 ring-opacity-50":""}
                `,children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent dark:from-blue-950 dark:to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200 -z-10"}),(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`
                      px-2 py-1 rounded text-xs font-semibold uppercase tracking-wider
                      ${"beginner"===e.difficulty?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-200":""}
                      ${"intermediate"===e.difficulty?"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-200":""}
                      ${"advanced"===e.difficulty?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200":""}
                    `,children:e.difficulty}),s&&g>=70&&(0,t.jsx)("span",{className:"text-lg",children:"âœ¨"})]}),(0,t.jsx)("span",{className:"text-3xl group-hover:scale-110 transition-transform",children:"â™”"})]}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:e.name}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"font-semibold",children:e.mainLine.length})," moves"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"font-semibold",children:e.variations.length})," variations"]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"First moves:"}),(0,t.jsxs)("p",{className:"font-mono text-sm text-gray-700",children:[e.mainLine.slice(0,4).join(" "),"..."]})]}),s&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex gap-3 text-xs text-gray-600 mb-2",children:[r.currentStreak>0&&(0,t.jsxs)("span",{children:["ðŸ”¥ ",r.currentStreak]}),(0,t.jsxs)("span",{children:["ðŸ“Š ",r.averageAccuracy,"%"]})]}),d&&(0,t.jsxs)("div",{className:`
                      text-xs font-semibold
                      ${o?"text-orange-600":"text-gray-500"}
                    `,children:["ðŸ“… ",(0,n.getReviewScheduleText)(d)]})]})]},e.id)})}),(0,t.jsx)("div",{className:"mt-12 text-center text-gray-600",children:(0,t.jsx)("p",{className:"text-sm",children:"Click on an opening to start practicing. You'll be guided through each move with instant feedback."})})]})})}e.s(["default",()=>i])},27404,e=>{e.n(e.i(84662))}]);