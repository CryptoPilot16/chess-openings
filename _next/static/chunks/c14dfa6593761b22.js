(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56563,30800,80447,e=>{"use strict";function t(e,t){let r;if(e<3)return{...t,interval:1,repetitions:0,easeFactor:Math.max(1.3,t.easeFactor-.2),lastReview:new Date().toISOString(),nextReview:s(1).toISOString()};let n=t.repetitions+1;r=1===n?1:2===n?6:Math.round(t.interval*t.easeFactor);let l=Math.max(1.3,Math.min(2.5,t.easeFactor+(.1-(5-e)*(.08+(5-e)*.02))));return{...t,interval:r,repetitions:n,easeFactor:l,lastReview:new Date().toISOString(),nextReview:s(r).toISOString()}}function r(e){return{openingId:e,easeFactor:2.5,interval:1,repetitions:0,nextReview:s(1).toISOString(),lastReview:new Date().toISOString()}}function n(e){return new Date>=new Date(e.nextReview)}function l(e){return e>=95?5:e>=85?4:e>=75?3:e>=60?2:+(e>=40)}function s(e){let t=new Date;return t.setDate(t.getDate()+e),t}function a(e){let t,r=(t=new Date,Math.ceil((new Date(e.nextReview).getTime()-t.getTime())/864e5));return r<0?"Overdue!":0===r?"Due today":1===r?"Due tomorrow":r<7?`Due in ${r} days`:r<30?`Due in ${Math.round(r/7)} weeks`:`Due in ${Math.round(r/30)} months`}function i(e){let t=1,r=0;for(;;){let n=Math.floor(100*Math.pow(1.5,t-1));if(r+n>e)return{level:t,currentXP:e-r,xpForNextLevel:n,totalXP:e};r+=n,t++}}function o(e,t,r,n){if(!r)return 0;let l=t/e,s=0;return l>=.95?s=50:l>=.85?s=30:l>=.75&&(s=15),Math.floor((50+s)*({beginner:1,intermediate:1.5,advanced:2})[n])}e.s(["accuracyToQuality",()=>l,"calculateNextReview",()=>t,"createReviewCard",()=>r,"getReviewScheduleText",()=>a,"isDueForReview",()=>n],30800);let c=[{id:"first-opening",name:"First Steps",description:"Complete your first opening",emoji:"ðŸŽ¯",target:1},{id:"five-openings",name:"Opening Explorer",description:"Complete 5 different openings",emoji:"ðŸ—ºï¸",target:5},{id:"perfect-run",name:"Perfectionist",description:"Complete an opening with 100% accuracy",emoji:"ðŸ’Ž",target:1},{id:"streak-5",name:"On Fire",description:"Maintain a 5-session streak",emoji:"ðŸ”¥",target:5},{id:"streak-10",name:"Unstoppable",description:"Maintain a 10-session streak",emoji:"âš¡",target:10},{id:"advanced-master",name:"Grandmaster",description:"Complete all advanced openings",emoji:"ðŸ‘‘",target:1},{id:"speed-demon",name:"Speed Demon",description:"Complete an opening in under 2 minutes",emoji:"ðŸš€",target:1},{id:"level-5",name:"Apprentice",description:"Reach level 5",emoji:"â­",target:5},{id:"level-10",name:"Expert",description:"Reach level 10",emoji:"ðŸŒŸ",target:10},{id:"level-20",name:"Master",description:"Reach level 20",emoji:"âœ¨",target:20}];function d(e,t,r){let n=[],l=new Date().toISOString();for(let e of c){let s=r.find(t=>t.id===e.id);if(s?.unlockedAt)continue;let a=!1;switch(e.id){case"first-opening":t.totalCompletions,a=(t.totalCompletions||0)>=1;break;case"five-openings":t.uniqueOpeningsCompleted,a=(t.uniqueOpeningsCompleted||0)>=5;break;case"perfect-run":a=(t.perfectRuns||0)>=1;break;case"streak-5":t.currentStreak,a=(t.currentStreak||0)>=5;break;case"streak-10":t.currentStreak,a=(t.currentStreak||0)>=10;break;case"level-5":let o=i(t.totalXP||0);o.level,a=o.level>=5;break;case"level-10":let c=i(t.totalXP||0);c.level,a=c.level>=10;break;case"level-20":let d=i(t.totalXP||0);d.level,a=d.level>=20;break;default:continue}a&&n.push({...e,progress:100,unlockedAt:l})}return n}function u(e){return e<5?"Novice":e<10?"Apprentice":e<15?"Intermediate":e<20?"Advanced":e<30?"Expert":e<50?"Master":"Grandmaster"}e.s(["ACHIEVEMENTS",0,c,"calculateXPReward",()=>o,"checkAchievements",()=>d,"getLevelFromXP",()=>i,"getLevelTitle",()=>u],80447);let m="chess-trainer-openings",g="chess-trainer-stats",x="chess-trainer-reviews",p="chess-trainer-achievements";function h(e){try{let t=localStorage.getItem(m);if(!t)return null;return JSON.parse(t)[e]||null}catch(e){return console.error("Error reading opening progress:",e),null}}function f(){try{let e=localStorage.getItem(m);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading all opening progress:",e),{}}}function v(){let e={totalSessions:0,totalMovesPlayed:0,correctMovesTotal:0,startedAt:new Date().toISOString(),lastActive:new Date().toISOString(),totalXP:0,totalCompletions:0,uniqueOpeningsCompleted:0,perfectRuns:0,currentStreak:0,bestStreak:0};try{let t=localStorage.getItem(g);if(!t)return localStorage.setItem(g,JSON.stringify(e)),e;let r=JSON.parse(t);return{...e,...r}}catch(t){return console.error("Error reading user stats:",t),e}}function b(e,n,s,a,i){let c=v(),u=h(e),b=n>0?s/n*100:0,w=100===b,j=0;a&&i&&(j=o(n,s,!0,i.difficulty)),u?.completedCount;let S=a?(u?.currentStreak||0)+1:0;if(!function(e,t){try{let r=localStorage.getItem(m),n=r?JSON.parse(r):{},l=n[e]||{openingId:e,completedCount:0,lastPracticed:new Date().toISOString(),bestStreak:0,currentStreak:0,averageAccuracy:0,totalMoves:0,correctMoves:0};n[e]={...l,...t,lastPracticed:new Date().toISOString()},n[e].totalMoves>0&&(n[e].averageAccuracy=Math.round(n[e].correctMoves/n[e].totalMoves*100)),localStorage.setItem(m,JSON.stringify(n))}catch(e){console.error("Error saving opening progress:",e)}}(e,{completedCount:(u?.completedCount||0)+ +!!a,currentStreak:S,bestStreak:Math.max(S,u?.bestStreak||0),totalMoves:(u?.totalMoves||0)+n,correctMoves:(u?.correctMoves||0)+s}),a){let n=N(e);n||(n=r(e)),function(e){try{let t=localStorage.getItem(x),r=t?JSON.parse(t):{};r[e.openingId]=e,localStorage.setItem(x,JSON.stringify(r))}catch(e){console.error("Error saving review card:",e)}}(t(l(b),n))}let k=Object.values(f()).filter(e=>e.completedCount>0).length,O={...c},C=a?c.currentStreak+1:0;var P={totalSessions:c.totalSessions+1,totalMovesPlayed:c.totalMovesPlayed+n,correctMovesTotal:c.correctMovesTotal+s,totalXP:c.totalXP+j,totalCompletions:c.totalCompletions+ +!!a,uniqueOpeningsCompleted:k,perfectRuns:c.perfectRuns+(w&&a?1:0),currentStreak:C,bestStreak:Math.max(C,c.bestStreak)};try{let e={...v(),...P,lastActive:new Date().toISOString()};localStorage.setItem(g,JSON.stringify(e))}catch(e){console.error("Error saving user stats:",e)}let M=v(),I=y(),R=d(O,M,I);return R.length>0&&function(e){try{localStorage.setItem(p,JSON.stringify(e))}catch(e){console.error("Error saving achievements:",e)}}([...I,...R]),{xpEarned:j,newAchievements:R}}function N(e){try{let t=localStorage.getItem(x);if(!t)return null;return JSON.parse(t)[e]||null}catch(e){return console.error("Error reading review card:",e),null}}function w(){return(function(){try{let e=localStorage.getItem(x);if(!e)return[];let t=JSON.parse(e);return Object.values(t)}catch(e){return console.error("Error reading review cards:",e),[]}})().filter(n).map(e=>e.openingId)}function y(){try{let e=localStorage.getItem(p);if(!e)return[];return JSON.parse(e)}catch(e){return console.error("Error reading achievements:",e),[]}}e.s(["getAchievements",()=>y,"getAllOpeningProgress",()=>f,"getDueOpenings",()=>w,"getOpeningProgress",()=>h,"getReviewCard",()=>N,"getUserStats",()=>v,"recordSession",()=>b],56563)},30315,e=>{"use strict";e.s(["openings",0,[{id:"italian-game",name:"Italian Game",description:"One of the oldest recorded openings, focusing on quick development and control of the center.",difficulty:"beginner",mainLine:["e4","e5","Nf3","Nc6","Bc4","Bc5","c3","d6","d4"],keyIdeas:["Control the center with pawns","Develop pieces quickly (knights before bishops)","Castle kingside early for safety","Attack the weak f7 square","Build a strong pawn center with c3 and d4"],variations:[{name:"Giuoco Piano",moves:["e4","e5","Nf3","Nc6","Bc4","Bc5","c3"]},{name:"Two Knights Defense",moves:["e4","e5","Nf3","Nc6","Bc4","Nf6"]}]},{id:"sicilian-defense",name:"Sicilian Defense",description:"The most popular and aggressive response to 1.e4, leading to asymmetrical positions.",difficulty:"intermediate",mainLine:["e4","c5","Nf3","d6","d4","cxd4","Nxd4","Nf6","Nc3"],keyIdeas:["Fight for central control with c5 instead of e5","Create asymmetrical pawn structures","Counterattack on the queenside","Maintain tension in the center","Accept complex tactical positions"],variations:[{name:"Najdorf Variation",moves:["e4","c5","Nf3","d6","d4","cxd4","Nxd4","Nf6","Nc3","a6"]},{name:"Dragon Variation",moves:["e4","c5","Nf3","d6","d4","cxd4","Nxd4","Nf6","Nc3","g6"]}]},{id:"french-defense",name:"French Defense",description:"A solid defense creating a strong pawn chain, though temporarily restricting the c8 bishop.",difficulty:"intermediate",mainLine:["e4","e6","d4","d5","Nc3","Nf6","Bg5"],keyIdeas:["Create a solid pawn structure with e6 and d5","Challenge white's center immediately","Plan to break with ...c5 or ...f6","Accept a temporarily passive c8 bishop","Counterattack on the queenside"],variations:[{name:"Winawer Variation",moves:["e4","e6","d4","d5","Nc3","Bb4"]},{name:"Tarrasch Variation",moves:["e4","e6","d4","d5","Nd2"]}]},{id:"queens-gambit",name:"Queen's Gambit",description:"A classical opening where White offers a pawn to gain central control and faster development.",difficulty:"intermediate",mainLine:["d4","d5","c4","e6","Nc3","Nf6","Bg5"],keyIdeas:["Offer the c4 pawn to challenge Black's center","Control the center with pieces after ...dxc4","Develop smoothly with Nc3, Nf3, and Bg5","Put pressure on Black's position","Maintain central control"],variations:[{name:"Queen's Gambit Declined",moves:["d4","d5","c4","e6","Nc3","Nf6"]},{name:"Queen's Gambit Accepted",moves:["d4","d5","c4","dxc4"]}]},{id:"ruy-lopez",name:"Ruy LÃ³pez",description:"Also known as the Spanish Opening, this classical opening puts immediate pressure on e5.",difficulty:"advanced",mainLine:["e4","e5","Nf3","Nc6","Bb5","a6","Ba4","Nf6","O-O"],keyIdeas:["Put pressure on the e5 pawn immediately","Develop pieces harmoniously","Maintain flexibility with the light-squared bishop","Castle kingside quickly","Build a strong center"],variations:[{name:"Berlin Defense",moves:["e4","e5","Nf3","Nc6","Bb5","Nf6"]},{name:"Marshall Attack",moves:["e4","e5","Nf3","Nc6","Bb5","a6","Ba4","Nf6","O-O","Be7","Re1","b5","Bb3","O-O","d4","d5"]}]}]])},31713,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(56563),l=e.i(30800);function s({openings:e,onSelect:s}){let[a,i]=(0,r.useState)({}),[o,c]=(0,r.useState)([]);return(0,r.useEffect)(()=>{i((0,n.getAllOpeningProgress)()),c((0,n.getDueOpenings)())},[]),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"â™Ÿï¸ Chess Opening Trainer"}),(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"Master essential chess openings through interactive practice"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{let r=a[e.id],i=r&&r.completedCount>0,c=o.includes(e.id),d=(0,n.getReviewCard)(e.id);return(0,t.jsxs)("button",{onClick:()=>s(e),className:`
                  bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-left hover:scale-105 transform
                  ${i?"ring-2 ring-green-400":""}
                  ${c?"ring-2 ring-orange-400 animate-pulse":""}
                `,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:`
                      px-3 py-1 rounded-full text-xs font-semibold uppercase
                      ${"beginner"===e.difficulty?"bg-green-100 text-green-800":""}
                      ${"intermediate"===e.difficulty?"bg-yellow-100 text-yellow-800":""}
                      ${"advanced"===e.difficulty?"bg-red-100 text-red-800":""}
                    `,children:e.difficulty}),i&&(0,t.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:["âœ“ ",r.completedCount]})]}),(0,t.jsx)("span",{className:"text-2xl",children:"â™”"})]}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:e.name}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"font-semibold",children:e.mainLine.length})," moves"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"font-semibold",children:e.variations.length})," variations"]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"First moves:"}),(0,t.jsxs)("p",{className:"font-mono text-sm text-gray-700",children:[e.mainLine.slice(0,4).join(" "),"..."]})]}),i&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex gap-3 text-xs text-gray-600 mb-2",children:[r.currentStreak>0&&(0,t.jsxs)("span",{children:["ðŸ”¥ ",r.currentStreak]}),(0,t.jsxs)("span",{children:["ðŸ“Š ",r.averageAccuracy,"%"]})]}),d&&(0,t.jsxs)("div",{className:`
                      text-xs font-semibold
                      ${c?"text-orange-600":"text-gray-500"}
                    `,children:["ðŸ“… ",(0,l.getReviewScheduleText)(d)]})]})]},e.id)})}),(0,t.jsx)("div",{className:"mt-12 text-center text-gray-600",children:(0,t.jsx)("p",{className:"text-sm",children:"Click on an opening to start practicing. You'll be guided through each move with instant feedback."})})]})})}let a={p:"â™Ÿ",n:"â™ž",b:"â™",r:"â™œ",q:"â™›",k:"â™š",P:"â™™",N:"â™˜",B:"â™—",R:"â™–",Q:"â™•",K:"â™”"};function i({board:e,selectedSquare:n,onMove:l}){let[s,i]=(0,r.useState)([["r","n","b","q","k","b","n","r"],["p","p","p","p","p","p","p","p"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["P","P","P","P","P","P","P","P"],["R","N","B","Q","K","B","N","R"]]),[o,c]=(0,r.useState)(null),d=e||s,u=void 0!==n?n:o;return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 p-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-8 gap-0 border-4 border-gray-800 rounded-lg overflow-hidden shadow-2xl",children:d.map((e,r)=>e.map((e,s)=>{let o=(r+s)%2==0,m=u&&u[0]===r&&u[1]===s;return(0,t.jsx)("button",{onClick:()=>((e,t)=>{if(u){let[r,n]=u;if(l)l({row:r,col:n},{row:e,col:t})&&c(null);else{let l=d.map(e=>[...e]);l[e][t]=l[r][n],l[r][n]=null,i(l),c(null)}}else d[e][t]&&void 0===n&&c([e,t])})(r,s),className:`
                  w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20
                  flex items-center justify-center
                  text-3xl sm:text-4xl md:text-5xl
                  transition-all duration-150
                  ${o?"bg-amber-100":"bg-amber-700"}
                  ${m?"ring-4 ring-blue-500 ring-inset":""}
                  hover:brightness-110
                  active:brightness-90
                `,children:e&&(0,t.jsx)("span",{className:`
                      ${e===e.toUpperCase()?"text-white":"text-black"}
                      drop-shadow-md
                    `,children:a[e]})},`${r}-${s}`)}))}),(0,t.jsx)("div",{className:"text-sm text-gray-600 text-center",children:u?"Click a square to move":"Click a piece to select"})]})}let o=[["r","n","b","q","k","b","n","r"],["p","p","p","p","p","p","p","p"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["P","P","P","P","P","P","P","P"],["R","N","B","Q","K","B","N","R"]];function c(e){return e.charCodeAt(0)-97}function d(e){return 8-parseInt(e)}function u(e){return String.fromCharCode(97+e)}function m(e,t,r){let n=Math.sign(r.row-t.row),l=Math.sign(r.col-t.col),s=t.row+n,a=t.col+l;for(;s!==r.row||a!==r.col;){if(e[s][a])return!1;s+=n,a+=l}return!0}var g=e.i(80447);function x({opening:e,onComplete:l,onQuit:s}){let[a,x]=(0,r.useState)(o),[p,h]=(0,r.useState)(0),[f,v]=(0,r.useState)(null),[b,N]=(0,r.useState)(null),[w,y]=(0,r.useState)(!0),[j,S]=(0,r.useState)(!1),[k,O]=(0,r.useState)({movesPlayed:0,correctMoves:0}),[C,P]=(0,r.useState)(null),[M,I]=(0,r.useState)(0),[R,A]=(0,r.useState)([]),[D,$]=(0,r.useState)([]),B=e.mainLine[p],L=p>=e.mainLine.length;(0,r.useEffect)(()=>{P((0,n.getOpeningProgress)(e.id))},[e.id]),(0,r.useEffect)(()=>{if(L){let t=(0,n.recordSession)(e.id,k.movesPlayed,k.correctMoves,!0,e);I(t.xpEarned),A(t.newAchievements),S(!0),setTimeout(()=>{l?.()},3e3)}},[L,l,e.id,e,k]);let T=()=>{k.movesPlayed>0&&(0,n.recordSession)(e.id,k.movesPlayed,k.correctMoves,!1,e),x(o),h(0),v(null),N(null),y(!0),S(!1),O({movesPlayed:0,correctMoves:0}),I(0),A([]),$([]),P((0,n.getOpeningProgress)(e.id))};if(L&&j){let r=(0,n.getUserStats)(),l=(0,g.getLevelFromXP)(r.totalXP),a=Math.round(k.correctMoves/k.movesPlayed*100);return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-6 p-8 min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:[(0,t.jsxs)("div",{className:"text-center max-w-2xl",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸŽ‰"}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-green-600 mb-2",children:"Opening Complete!"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-6",children:["You successfully completed the ",e.name]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[a,"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Accuracy"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:["+",M]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"XP Earned"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-purple-600",children:["Lvl ",l.level]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:(0,g.getLevelTitle)(l.level)})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[(0,t.jsxs)("span",{children:["Level ",l.level]}),(0,t.jsxs)("span",{children:[l.currentXP," / ",l.xpForNextLevel," XP"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:`${l.currentXP/l.xpForNextLevel*100}%`}})})]})]}),R.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"ðŸ† New Achievements!"}),(0,t.jsx)("div",{className:"space-y-3",children:R.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-yellow-50 rounded-lg border-2 border-yellow-300",children:[(0,t.jsx)("span",{className:"text-4xl",children:e.icon}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-bold text-gray-800",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.description})]})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:T,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Practice Again"}),(0,t.jsx)("button",{onClick:s,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Choose Another Opening"})]})]})}return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-6 p-4",children:[(0,t.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:e.name}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:e.description}),C&&C.completedCount>0&&(0,t.jsxs)("div",{className:"flex gap-4 mt-2 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["âœ“ Completed ",C.completedCount,"x"]}),(0,t.jsxs)("span",{children:["ðŸ”¥ Streak: ",C.currentStreak]}),(0,t.jsxs)("span",{children:["ðŸ“Š Accuracy: ",C.averageAccuracy,"%"]})]})]}),(0,t.jsx)("span",{className:`
            px-3 py-1 rounded-full text-xs font-semibold uppercase flex-shrink-0
            ${"beginner"===e.difficulty?"bg-green-100 text-green-800":""}
            ${"intermediate"===e.difficulty?"bg-yellow-100 text-yellow-800":""}
            ${"advanced"===e.difficulty?"bg-red-100 text-red-800":""}
          `,children:e.difficulty})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,t.jsx)("span",{children:"Progress"}),(0,t.jsxs)("span",{children:[p," / ",e.mainLine.length," moves"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p/e.mainLine.length*100}%`}})})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-blue-600 font-semibold mb-1",children:w?"âšª White to move":"âš« Black to move"}),(0,t.jsx)("p",{className:"text-lg font-mono font-bold text-blue-900",children:B})]}),(0,t.jsx)("button",{onClick:()=>{B&&N(`Try ${B}`)},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition text-sm",children:"ðŸ’¡ Hint"})]}),b&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-blue-200",children:(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Hint:"})," ",b]})})]})]}),f&&(0,t.jsx)("div",{className:`
          px-6 py-3 rounded-lg font-semibold text-white shadow-lg
          transform transition-all duration-300
          ${"correct"===f?"bg-green-500 scale-105":"bg-red-500 animate-shake"}
        `,children:"correct"===f?"âœ“ Correct!":"âœ— Try again"}),(0,t.jsx)(i,{board:a,onMove:(e,t)=>{let r=function(e,t,r){let n=e[t.row][t.col];if(!n)return null;let l=n.toLowerCase(),s=u(r.col),a=8-r.row;if("k"===l&&2===Math.abs(r.col-t.col))return 6===r.col?"O-O":"O-O-O";let i=e[r.row][r.col],o=i?"x":"";if("p"===l){if(i){let e=u(t.col);return`${e}${o}${s}${a}`}return`${s}${a}`}let c=n.toUpperCase();return`${c}${o}${s}${a}`}(a,e,t);if(!r)return v("incorrect"),setTimeout(()=>v(null),1e3),!1;let n=B.replace(/[+#!?]/g,"");if(r.replace(/[+#!?]/g,"")!==n)return v("incorrect"),O(e=>({...e,movesPlayed:e.movesPlayed+1})),setTimeout(()=>v(null),1e3),!1;{v("correct"),N(null),O(e=>({movesPlayed:e.movesPlayed+1,correctMoves:e.correctMoves+1})),$(e=>[...e,B]);let e=function(e,t,r){let n=e.trim();if("O-O"===n||"O-O-O"===n){let e=7*!!r,t=r?"K":"k";return"O-O"===n?{from:{row:e,col:4},to:{row:e,col:6},piece:t,algebraic:n}:{from:{row:e,col:4},to:{row:e,col:2},piece:t,algebraic:n}}let l=n.replace(/[+#!?]/g,""),s="P",a=l;/^[NBRQK]/.test(l)&&(s=l[0],a=l.slice(1));let i=r?s:s.toLowerCase(),o=a.includes("x");o&&(a=a.replace("x",""));let u=a[a.length-2],g=a[a.length-1],x=c(u),p=d(g),h=null,f=null;if("P"===s&&3===a.length&&o)h=c(a[0]);else if(a.length>2){let e=a.slice(0,-2);/[a-h]/.test(e[0])&&(h=c(e[0])),/[1-8]/.test(e[e.length-1])&&(f=d(e[e.length-1]))}let v=function(e,t,r,n,l){if(!t)return null;let s=t===t.toUpperCase(),a=t.toLowerCase();for(let t=0;t<8;t++)if(null===n||t===n)for(let n=0;n<8;n++){if(null!==l&&n!==l)continue;let i=e[t][n];if(i?.toLowerCase()===a&&i===i.toUpperCase()===s&&function(e,t,r,n){let l=Math.abs(r.row-t.row),s=Math.abs(r.col-t.col),a=e[t.row][t.col],i=a===a?.toUpperCase();switch(n){case"p":{let n=i?-1:1;if(t.col===r.col&&!e[r.row][r.col]){if(r.row===t.row+n)return!0;if(t.row===(i?6:1)&&r.row===t.row+2*n)return!e[t.row+n][t.col]}if(1===s&&r.row===t.row+n&&e[r.row][r.col])return!0;return!1}case"n":return 2===l&&1===s||1===l&&2===s;case"b":if(l!==s)return!1;return m(e,t,r);case"r":if(t.row!==r.row&&t.col!==r.col)return!1;return m(e,t,r);case"q":if(t.row!==r.row&&t.col!==r.col&&l!==s)return!1;return m(e,t,r);case"k":return l<=1&&s<=1;default:return!1}}(e,{row:t,col:n},r,a))return{row:t,col:n}}return null}(t,i,{row:p,col:x},f,h);return v?{from:v,to:{row:p,col:x},piece:i,captured:t[p][x],algebraic:n}:null}(B,a,w);return e&&(x(function(e,t){let r=e.map(e=>[...e]);if("O-O"===t.algebraic){let e=t.from.row,n="K"===t.piece;return r[e][6]=t.piece,r[e][4]=null,r[e][5]=n?"R":"r",r[e][7]=null,r}if("O-O-O"===t.algebraic){let e=t.from.row,n="K"===t.piece;return r[e][2]=t.piece,r[e][4]=null,r[e][3]=n?"R":"r",r[e][0]=null,r}return r[t.to.row][t.to.col]=t.piece,r[t.from.row][t.from.col]=null,r}(a,e)),y(!w),h(p+1),setTimeout(()=>v(null),800)),!0}},selectedSquare:null}),(0,t.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Move History"}),(0,t.jsx)("div",{className:"font-mono bg-gray-50 p-4 rounded border border-gray-200 min-h-12",children:D.length>0?(0,t.jsx)("div",{className:"space-y-2",children:D.map((e,r)=>{let n=Math.floor(r/2)+1;return(0,t.jsxs)("div",{children:[r%2==0&&(0,t.jsxs)("span",{className:"font-bold text-gray-700",children:[n,"."]}),(0,t.jsx)("span",{className:"mx-2 text-gray-800",children:e})]},r)})}):(0,t.jsx)("div",{className:"text-gray-400 text-sm",children:"Make your first move..."})})]}),(0,t.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Key Ideas"}),(0,t.jsx)("ul",{className:"space-y-2",children:e.keyIdeas.map((e,r)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-gray-700",children:[(0,t.jsx)("span",{className:"text-blue-600 mt-1",children:"â€¢"}),(0,t.jsx)("span",{className:"text-sm",children:e})]},r))})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:T,className:"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition",children:"Reset"}),(0,t.jsx)("button",{onClick:s,className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Quit"})]})]})}var p=e.i(30315);function h(){let[e,n]=(0,r.useState)(null);return e?(0,t.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-700",children:(0,t.jsx)(x,{opening:e,onComplete:()=>{n(null)},onQuit:()=>n(null)})}):(0,t.jsx)(s,{openings:p.openings,onSelect:n})}e.s(["default",()=>h],31713)}]);